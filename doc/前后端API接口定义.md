### 前后端API接口定义





## Server Response结构如下:

| 固定字段   | 字段     | 说明                        | 举例                                  |
| :----- | :----- | :------------------------ | :---------------------------------- |
| header |        | 固定字段，所有API必须返回            |                                     |
|        | code   | 固定字段，所有API必须返回            | 数字型，默认为0                            |
|        | msg    | 当需要提示前端时提供，一般用于给出服务端的错误信息 | 字符串，默认null                          |
|        | ext    | 用户辅助排查信息                  | 可以为一个Error对象JSON等                   |
| body   |        | 固定字段，所有API必须返回            | 根据实际业务情况，将需要返回的数据填充到body中。以下字段仅为举例。 |
| （列表）   | total  | 总条数                       |                                     |
| （列表）   | max    | 本页数量                      |                                     |
| （列表）   | offset | 页码，从0开始                   |                                     |
| （列表）   | list   | 数据列表                      | 数组                                  |
| （单条）   | **{}** | **单条数据，直接返回Object**       | **Object**  {id:1,name:'1'}         |
| 简单操作   | 无须字段   | 删除等操作，从headers判断即可        | {}                                  |
|        |        |                           |                                     |





## 前端解析顺序

参见[APIUtil使用说明](./APIUtil使用说明.md) 

1. 首先判断http 请求是否成功，读取http 状态码，状态码正常后，继续2.
2. 判断header中的code是否为0，为0为正常返回，正常后继续3.
3. 判断body中的数据格式是否为业务需要，正确则继续



## Api 返回code定义

| code | 含义    |                 |
| ---- | ----- | --------------- |
| 0    | 操作成功  |                 |
| 100  | 操作失败  |                 |
| 101  | 用户未登录 | 100开头的定义为用户相关错误 |
| 102  | 用户无权限 |                 |
|      |       |                 |
|      |       |                 |
|      |       |                 |
|      |       |                 |
|      |       |                 |
|      |       |                 |